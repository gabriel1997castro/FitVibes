### **1. Resumo da Ideia**

Um aplicativo social e divertido para incentivar a pr√°tica de exerc√≠cios em grupos privados, onde os usu√°rios precisam diariamente justificar a aus√™ncia de treino com desculpas (ou registrar um treino feito). O grupo vota na validade das desculpas/treinos, usa coment√°rios pr√©-definidos, e quem ‚Äúperder‚Äù paga uma quantia simb√≥lica aos demais. Gamifica√ß√£o e press√£o social s√£o usadas para aumentar a ades√£o √† atividade f√≠sica.

---

### **2. Pontos Fortes**

- **Gamifica√ß√£o do compromisso:** A competi√ß√£o e as penalidades simb√≥licas estimulam a participa√ß√£o constante.
- **Press√£o social positiva:** O grupo incentiva, fiscaliza e diverte, tornando mais dif√≠cil ‚Äúsumir‚Äù.
- **Humor e leveza:** As desculpas e coment√°rios criam um ambiente descontra√≠do, tornando o app divertido e viciante.
- **Intera√ß√£o aut√™ntica:** Desculpas e votos geram intera√ß√µes reais e espont√¢neas.
- **Notifica√ß√µes push:** Garantem engajamento e lembram os usu√°rios das suas obriga√ß√µes e vota√ß√µes.
- **Ranking e premia√ß√µes simb√≥licas:** T√≠tulos como ‚Äúrei do migu√©‚Äù e ‚Äúmais esfor√ßado‚Äù tornam a competi√ß√£o amig√°vel.
- **Grupos fechados:** Protege a privacidade, permitindo apenas convidados.
- **Punir inatividade:** Quem n√£o posta nada recebe automaticamente uma ‚Äúdesculpa migu√©‚Äù para vota√ß√£o e penalidade.

---

### **3. Pontos de Melhoria (Inclu√≠dos ao Plano)**

- **Categorias sugeridas de desculpas v√°lidas:** Como atestado m√©dico, viagem, evento importante (facilita e padroniza as justificativas).
- **Mensagens pr√©-definidas obrigat√≥rias:** Para evitar ataques, bullying ou qualquer ofensa, os coment√°rios s√£o sempre de um banco pr√©-aprovado de frases.
- **Pagamento simb√≥lico, com prazos para acerto:** O app mostra, semanalmente ou mensalmente, quanto cada um deve para quem, e pode zerar os saldos no fechamento do ciclo.
- **Pontua√ß√£o geral (n√£o zera) e pontua√ß√£o de ‚Äúdias sem perder dinheiro‚Äù:** Dois sistemas de score para motivar: hist√≥rico total e sequ√™ncia de dias bons.
- **Ranking e hist√≥rico:** Melhor desculpa, mais esfor√ßado, rei do migu√©, etc., baseados em votos e estat√≠sticas.
- **Grupos fechados:** S√≥ entra por convite/link, para garantir privacidade.
- **Puni√ß√£o autom√°tica para inatividade:** N√£o postou, recebe uma desculpa ‚Äúhoje n√£o treinei porque sou muito migu√©!‚Äù.

---

## **4. MVP ‚Äî Produto M√≠nimo Vi√°vel**

Para lan√ßar rapidamente e validar a ideia, sugiro o seguinte escopo de MVP:

### **Funcionalidades MVP**

1. **Cadastro/Login**
    - Google, Apple ou e-mail.
2. **Cria√ß√£o/Entrada em grupos fechados**
    - Entrar por convite ou link.
3. **Postar exerc√≠cio ou desculpa**
    - Selecionar entre exerc√≠cio realizado ou desculpa (com categorias sugeridas).
    - Mensagens/comments apenas pr√©-definidas.
4. **Vota√ß√£o di√°ria**
    - Todos devem votar se o exerc√≠cio/desculpa √© v√°lido ou n√£o.
    - N√£o votar = penalidade autom√°tica (incentivo √† participa√ß√£o).
5. **Notifica√ß√µes push**
    - Lembrete de postagem, vota√ß√£o, fechamento de ciclo, ranking.
6. **Pagamentos simb√≥licos**
    - Controle de quem deve quanto para quem, ciclo semanal/mensal.
    - Sem integra√ß√£o banc√°ria no MVP (s√≥ controle no app).
7. **Ranking e hist√≥rico**
    - Pontua√ß√£o geral, sequ√™ncia de dias sem perder dinheiro, t√≠tulos simb√≥licos.
8. **Privacidade e seguran√ßa**
    - Grupos privados, den√∫ncias se necess√°rio.

**Obs.:** Upload de foto/v√≠deo pode ser planejado para vers√µes futuras.

---

## **5. Sugest√£o de Stack para App**


### **Frontend (Mobile)**

- **React Native** (com Expo para facilitar push notifications e build inicial)
- **TypeScript** sempre
- **React Navigation** (rotas/telas)
- **Expo Notifications** (push notifications)
- **Zustand** (estado, se necess√°rio)
- **AsyncStorage** (dados locais simples)

### **Backend**

### **Tech Stack Backend com Supabase**

#### **1. Banco de Dados**

* **PostgreSQL** gerenciado pelo Supabase

#### **2. Autentica√ß√£o**

* **Supabase Auth**

  * Suporte nativo a login por Google, Apple, email/senha, magic link, etc.
  * Gerencia sess√µes, JWT, resets e mais.

#### **3. API**

* **API RESTful autom√°tica** gerada pelo Supabase

  * Cada tabela do banco vira um endpoint RESTful seguro, j√° respeitando roles/permissions
* **API GraphQL** opcional, j√° pronta (se preferir GraphQL)
* **Realtime** (Websockets) para receber updates de dados ao vivo

#### **4. Fun√ß√µes customizadas (Opcional)**

* **Edge Functions** (serverless, estilo Lambda) para l√≥gica personalizada (exemplo: fechamento de ciclo, c√°lculos de ranking, notifica√ß√µes, automa√ß√µes)

#### **5. Notifica√ß√µes**

* **Push notifications**:

  * Use [Expo Notifications](https://docs.expo.dev/push-notifications/overview/) para o mobile, salvando o Expo Push Token do usu√°rio na tabela de usu√°rios do Supabase.
  * Para enviar pushes autom√°ticos (ex: cobran√ßa, lembrete), crie uma **Edge Function** no Supabase ou um script serverless externo (ex: n8n, Vercel, Railway) que l√™ do banco e dispara o push.


#### **Fluxo Pr√°tico de Desenvolvimento**

##### **1. Modelagem do banco**

* No painel do Supabase, crie as tabelas:

  * users
  * groups
  * group\_members
  * posts (exerc√≠cio ou desculpa)
  * votes
  * payments (controle de quem deve pra quem, se quiser)
  * rankings (ou gere por consulta/edge function)
* Configure **policies** (RLS - Row Level Security) para proteger os dados.

##### **2. Integra√ß√£o no app**

* Instale o SDK:

  ```bash
  yarn add @supabase/supabase-js
  ```
* Use o SDK no React Native para autenticar, ler/escrever no banco, ouvir eventos em tempo real, etc.

##### **3. L√≥gica personalizada**

* Para regras mais complexas (fechar ciclo semanal, c√°lculo de ranking, envio autom√°tico de push),

  * Crie Edge Functions no Supabase
  * Ou integre com n8n e APIs externas

##### **4. Hospedagem**

* O Supabase j√° hospeda seu banco, API e edge functions automaticamente.

---

#### **Resumo da Stack**

| Camada       | Ferramenta/Servi√ßo        | Observa√ß√£o                    |
| ------------ | ------------------------- | ----------------------------- |
| DB           | Supabase (PostgreSQL)     | Gerenciado, seguro, escal√°vel |
| API          | Supabase REST/GraphQL     | CRUD autom√°tico, RLS          |
| Auth         | Supabase Auth             | SSO, JWT, magic link, etc     |
| Realtime     | Supabase Realtime         | Atualiza√ß√£o ao vivo           |
| L√≥gica       | Supabase Edge Functions\* | Lambda para regras especiais  |
| Notifica√ß√µes | Expo Notifications        | Mobile Push                   |

\*Edge Functions e n8n s√£o opcionais e ajudam para l√≥gica avan√ßada, mas para um MVP voc√™ pode resolver quase tudo s√≥ com Supabase + SDK.

---

#### **Vantagens**

* Zero backend para come√ßar: 100% serverless.
* Escala e seguran√ßa nativos.
* Login social f√°cil.
* CRUD super r√°pido via SDK no mobile.
* Permiss√µes personaliz√°veis (RLS).
* Adicione l√≥gica personalizada sem dores.


---

## **6. Fluxo de Usu√°rio (Simplificado)**

1. Usu√°rio entra, se cadastra ou faz login.
2. Cria grupo ou entra por convite.
3. Todos os dias, cada membro posta:
    - Um exerc√≠cio realizado (ex: ‚ÄúCaminhei 30 minutos‚Äù) **ou**
    - Uma desculpa (escolhe da lista: ‚ÄúEstava doente‚Äù, ‚ÄúViajei‚Äù, etc.)
4. Grupo recebe push para votar. Todos precisam votar.
5. Votos s√£o computados; coment√°rios s√£o de frases pr√©-definidas.
6. Quem n√£o posta recebe ‚Äúdesculpa autom√°tica‚Äù e pode ser penalizado.
7. App calcula d√≠vidas simb√≥licas entre membros (sem pagamento real no app).
8. Rankings, pontua√ß√µes e notifica√ß√µes s√£o exibidos.
9. Ao final do ciclo (semana/m√™s), saldo aparece para todo grupo.

---

## **7. Pr√≥ximos Passos**

1. **Aprovar/desenhar wireframes das telas do MVP** (posso te ajudar com isso).
2. **Modelar banco de dados** (posso te mandar um modelo inicial).
3. **Definir estrutura de backend** (rotas essenciais).
4. **Montar estrutura do React Native (Expo)**.
5. **Configurar notifica√ß√µes push.**
6. **Testes com grupo pequeno antes do lan√ßamento p√∫blico.**

---

## **Resumo do Plano**

- App mobile (React Native + TypeScript)
- Backend em Node.js/Express + Prisma/Postgres
- MVP com grupo, postagem, vota√ß√£o, coment√°rios pr√©-definidos, ranking, notifica√ß√µes, controle de ‚Äúd√≠vida‚Äù
- Gamifica√ß√£o, leveza, seguran√ßa e privacidade como valores centrais

## **Wireframes para Migu√©Fit (MVP) ‚Äî Descri√ß√£o Visual**

### 1. **Tela de Boas-vindas / Login**

```
lua
CopyEdit
----------------------------------
|        [LOGO MIGU√âFIT]         |
|    "Fuja do migu√©, mexa-se!"   |
|--------------------------------|
|   [Entrar com Google]          |
|   [Entrar com Apple]           |
|   [Entrar com E-mail]          |
----------------------------------

```

---

### 2. **Tela de Grupos**

```
less
CopyEdit
----------------------------------
|       Meus Grupos              |
|--------------------------------|
| [Grupo da Academia]    [#]     |
| [Fam√≠lia Fitness]      [#]     |
|--------------------------------|
| [+] Criar novo grupo           |
| [üîó] Entrar em grupo por link  |
----------------------------------

```

---

### 3. **Tela do Grupo**

```
lua
CopyEdit
----------------------------------
|  [Nome/Foto do Grupo]          |
|--------------------------------|
| Membros: [üü¢ Ana] [üî¥ Jo√£o]    |
|--------------------------------|
| [Postar exerc√≠cio/desculpa]    |
|--------------------------------|
| Saldo: Voc√™ deve R$X para Y    |
| Ranking semanal:               |
|   üèÖ Mais esfor√ßado: Ana       |
|   ü§° Rei do migu√©: Jo√£o        |
|   üß† Melhor desculpa: Bia      |
|--------------------------------|
| [Ver hist√≥rico] [Convidar]     |
----------------------------------

```

---

### 4. **Tela de Postagem**

```
less
CopyEdit
----------------------------------
| Voc√™ treinou hoje?             |
| [Sim] [N√£o]                    |
|--------------------------------|
| Se Sim:                        |
| Tipo: [Caminhada] [Corrida]... |
| Dura√ß√£o: [__] min              |
| [Enviar]                       |
|--------------------------------|
| Se N√£o:                        |
| Motivo:                        |
| ( ) At. M√©dico ( ) Viagem      |
| ( ) Evento ( ) Cansa√ßo         |
| [Enviar]                       |
----------------------------------

```

---

### 5. **Tela de Vota√ß√£o**

```
lua
CopyEdit
----------------------------------
| Votar nos posts do dia         |
|--------------------------------|
| [Card: Ana]                    |
| "Caminhei 20min" [‚è∞9:20]      |
| [V√°lido] [Migu√©]               |
| Coment√°rio:                    |
| ( ) "Desculpa esfarrapada"     |
| ( ) "Boa, arrasou!"            |
| ( ) "Te entendo, mas bora!"    |
----------------------------------
| [Pr√≥ximo card...]              |
----------------------------------

```

---

### 6. **Ranking / Hist√≥rico**

```
lua
CopyEdit
----------------------------------
| Ranking do grupo               |
|--------------------------------|
| üèÜ Pontua√ß√£o geral             |
| üî• Dias sem perder dinheiro    |
| ü§° Rei do migu√© da semana      |
|--------------------------------|
| Hist√≥rico:                     |
| Dia | Membro | Post | Votos    |
|-----|--------|------|----------|
| 25  | Ana    | Ex.  | V√°lido   |
| 25  | Jo√£o   | Esc. | Migu√©    |
----------------------------------

```

# React Native

## Flatlist vs Scrollview

Flatlist √© melhor, renderiza s√≥ o que est√° na tela. J√° o ScrollView renderiza tudo